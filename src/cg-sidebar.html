<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="cg-social.html">

<link rel="import" href="cg-links.html">


<dom-module id="cg-sidebar">
    <template>
        <style>
            :host {
                display: block;
            }
            .drawer-list {
                margin: 0 20px;
            }

            .drawer-list a {
                display: block;
                padding: 0 16px;
                text-decoration: none;
                color: var(--app-secondary-color);
                line-height: 40px;
            }

            .drawer-list a.iron-selected {
                color: black;
                font-weight: bold;
            }
            
        </style>
         
        <cg-social></cg-social>
            <iron-selector id="pagesSelector" selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
                <div id="pages" role="listbox">
                    <cg-links active="[[page]]" text="Guitar Lessons" href="/lessons" name="lessons" src="../images/logo_black.png"></cg-links>
                    <cg-links active="[[page]]" text="About" href="/about" name="about" icon="info"></cg-links>
                    <cg-links active="[[page]]" text="Contact" href="/view3" name="view3" icon="communication:contact-phone"></cg-links>
                    <cg-links active="[[page]]" text="Photos" href="/photos" name="photos" icon="image:photo-library"></cg-links>
                    <cg-links active="[[page]]" text="Videos" href="/videos" name="videos" icon="av:videocam"></cg-links>
                    <cg-links active="[[page]]" text="Testimonials" href="/testimonials" name="testimonials" icon="social:sentiment-satisfied"></cg-links>
                    <cg-links active="[[page]]" text="Band/Session Work" href="/session" name="session" icon="image:audiotrack"></cg-links>
                </div>
            
            


            </iron-selector>
          
    </template>
    <script>
        Polymer({
            is: 'cg-sidebar',
            properties: {
                page: {
                    type: String,
                    reflectToAttribute: true,
                    notify: true
                },
                _names: {
                    type: Array,
                    value: []
                }
            },
            nextPage: function() {
                var current = this._names.indexOf(this.page),
                    newIndex = current + 1,
                    newPage = this._names[newIndex];
                if (newPage > this._names.length - 1) {
                    return current;

                }
                return current;
            },
            previousPage: function() {
                var current = this._names.indexOf(this.page),
                    newIndex = current - 1,
                    newPage = this._names[newIndex];
                if (newPage < 0) {
                    return current;
                }
                return newPage;

            },
            ready: function() {
                var pages = this.$.pages.querySelectorAll('cg-links');
                pages.forEach(function(page) {
                    this._names.push(page.getAttribute('name'));
                }.bind(this));

            }
        });
    </script>
</dom-module>